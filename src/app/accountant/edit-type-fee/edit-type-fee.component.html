<div class="card  box-shadow">
    <div class="card-body">

        <div>
            <h2 class="text-success text-center">TẤT CẢ CÁC LOẠI PHÍ</h2>
            <p-button (click)="showDialogCreate()" icon="pi pi-external-link" label="Tạo phí mới"></p-button>
            <p-dialog header="Tạo phí mới" [(visible)]="visible" [style]="{ width: '30vw' }"
                [draggable]="false" [resizable]="false">
                <form [formGroup]="feeForm">
                    <div class="modal-body">

                        <div class="mb-3 mt-3">
                            <label for="email" class="form-label">Fee type:</label>
                            <input type="text" formControlName="FeeType" class="form-control"
                                placeholder="Enter Fee Type">
                        </div>

                        <div class="mb-3 mt-3">
                            <label for="email" class="form-label">Value:</label>
                            <input type="number" formControlName="Fee" class="form-control"
                                placeholder="Enter Fee">
                        </div>

                        <div class="mb-3 mt-3">
                            <label for="email" class="form-label">School Year</label>
                            <br>
                            <mat-form-field>
                                <input matInput [matDatepicker]="picker" formControlName="SchoolYear"
                                    placeholder="Select date">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="mb-3 mt-3">
                            <label for="email" class="form-label">School Year</label>
                            <p-calendar [showIcon]="true" formControlName="SchoolYear"></p-calendar>
                        </div>

                        <div class="dropdown" id="drwYearNew">
                            <button type="button" class="btn btn-primary dropdown-toggle"
                                data-bs-toggle="dropdown">
                                Dropdown button
                            </button>
                            <ul class="dropdown-menu">
                                <li *ngFor="let year of years" [value]="year"> {{year}}</li>
                            </ul>
                        </div>

                        <div class="form-check mb-3">
                            <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" name="remember"> Đồng ý với các
                                điều khoản
                            </label>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            Close
                        </button>
                        <button type="Submit" (click)="save(feeForm.value.Id)" class="btn btn-primary">
                            Save changes
                        </button>
                    </div>
                </form>
            </p-dialog>

            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                       
                    </div>
                </div>
            </div>
            <br>


            <div class="eachFee">
                <div class="card flex justify-content-center" *ngFor="let fee of fees">
                    <p-card header={{fee.FeeType}} subheader={{fee.SchoolYear}} [style]="{ width: '300px' }">
                        <ng-template pTemplate="header">
                            <img alt="Card" src="https://primefaces.org/cdn/primeng/images/usercard.png" />
                        </ng-template>
                        <p>
                            Số tiền: {{fee.Fee}} vnd
                        </p>
                        <ng-template pTemplate="footer">
                            <p-button label="Edit" icon="pi pi-check" (click)="edit(fee.Id)" data-bs-toggle="modal"
                                data-bs-target="#exampleModal"></p-button>
                            <p-button label="Delete" icon="pi pi-file-edit" styleClass="p-button-secondary"
                                [style]="{ 'margin-left': '.5em' }" (click)="deleteFee(fee.Id)"></p-button>
                        </ng-template>
                    </p-card>
                </div>
            </div>

        </div>
    </div>
</div>